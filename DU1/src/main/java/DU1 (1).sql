CREATE DATABASE DU1_NHOM1
USE DU1_NHOM1

CREATE TABLE NHANVIEN(
id uniqueidentifier primary key default newID(),
ma VARCHAR(20) UNIQUE,
ten NVARCHAR(30) DEFAULT NULL,
gioiTinh NVARCHAR(10) DEFAULT NULL,
ngaySinh DATE DEFAULT NULL,
diaChi NVARCHAR(100) DEFAULT NULL,
sdt VARCHAR(30) DEFAULT NULL,
anh NVARCHAR(50) NULL,
tentk varchar(50),
mk varchar(50),
ngayTao date,
trangThai int,
idCV UNIQUEIDENTIFIER foreign key references chucvu(id),
)

CREATE TABLE CHUCVU(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ma VARCHAR(20) UNIQUE,
ten NVARCHAR(50) DEFAULT NULL,
ngayTao date,
trangThai int
)

CREATE TABLE KHACHHANG(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ma VARCHAR(20) UNIQUE,
ten NVARCHAR(30),
ngaySinh DATE DEFAULT NULL,
sdt VARCHAR(30) DEFAULT NULL,
diaChi NVARCHAR(100) DEFAULT NULL,
ngayTao date,
trangThai int
)

CREATE TABLE GIOHANG(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ma VARCHAR(20) UNIQUE,
ngayTao DATE  NULL,
tenKH NVARCHAR(50) DEFAULT NULL,
tinhTrang INT DEFAULT 0,
idKH UNIQUEIDENTIFIER foreign key references KHACHHANG(id)
)

CREATE TABLE CHITIETGIOHANG(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
soLuong int,
donGia float,
ngayTao date,
trangThai int,
idSP UNIQUEIDENTIFIER foreign key references sanpham(id),
idGH UNIQUEIDENTIFIER foreign key references giohang(id)
)

CREATE TABLE SANPHAM(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ma varchar(20) UNIQUE,
tenSanPham nvarchar(50),
mauSac nvarchar(50),
nhaSanXuat nvarchar(50),
ngayTao date,
trangThai int,
soLuong int,
giaNhap float,
giaBan float,
trongLuong float,
QL nvarchar(50),
moTa nvarchar(50),
iddm UNIQUEIDENTIFIER foreign key references danhmuc(id),
idcl UNIQUEIDENTIFIER foreign key references chatlieu(id)
)

CREATE TABLE KHUYENMAI (
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ma varchar(20) UNIQUE, 
tenKM NVARCHAR(50),
ngayBD date, 
ngayKT date,
ngayTao date,
trangThai int
)

CREATE TABLE CHITIETKHUYENMAI(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ma varchar(20) UNIQUE,
giaGiam float,
ngayTao date,
trangThai int,
idSP UNIQUEIDENTIFIER foreign key references sanpham(id),
idKM UNIQUEIDENTIFIER foreign key references khuyenmai(id)
)

CREATE TABLE HOADON (
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ngayTao Date,
ngayTT date,
tinhTrang int,
hinhThucThanhToan nvarchar(50),
idKH UNIQUEIDENTIFIER foreign key references khachhang(id),
idNV UNIQUEIDENTIFIER foreign key references nhanvien(id)
)

CREATE TABLE CHITIETHOADON(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
soLuong int,
donGia float,
giaGiam float,
ngayTao date,
trangThai int,
idHD UNIQUEIDENTIFIER foreign key references hoadon(id),
idSP UNIQUEIDENTIFIER foreign key references sanpham(id)
)

Create Table DanhMuc(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ma varchar(20) UNIQUE,
dongSP nvarchar(50),
ngayTao date,
trangThai int
)

Create Table DoiTra(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ngayTao date,
lyDo nvarchar(50),
trangThai int,
idKH UNIQUEIDENTIFIER foreign key references khachhang(id),
idHD UNIQUEIDENTIFIER foreign key references hoadon(id)
)


Create Table ChatLieu
(
id UNIQUEIDENTIFIER PRIMARY KEY DEFAULT NEWID(),
ma varchar(20) UNIQUE,
tenChatLieu nvarchar(50),
ngayTao date,
trangThai int
)

select*from NHANVIEN
select*from CHUCVU
select*from KHACHHANG
select*from DanhMuc
select*from ChatLieu
select*from SANPHAM

select*from KHUYENMAI
 select*from CHITIETKHUYENMAI
select*from GIOHANG
select*from CHITIETGIOHANG
select*from HOADON
select*from CHITIETHOADON
select*from DoiTra

select*from NHANVIEN
INSERT INTO NHANVIEN (id, ma, ten, gioiTinh, ngaySinh, diaChi, sdt, tentk, mk, ngayTao, trangThai, idCV)
VALUES (NEWID(), 'NV1', N'Lê Tiến Trung', N'Nam', CONVERT(DATETIME, '2000-08-12 00:00:00', 102), N'Hà Nội', '0378920187', 'TrungLT', '123', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0,'95C61CEF-7520-4ABD-B19F-F62EDCD9E6E0'),
(NEWID(), 'NV2', N'La Minh Hiếu', N'Nam', CONVERT(DATETIME, '2000-04-22 00:00:00', 102), N'Hà Nội', '0309283948', 'HieuLM', '123', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0,'30EC7710-D086-4611-9665-44FC8AB50EE5'),
(NEWID(), 'NV3', N'Nguyễn Thị Hường', N'Nữ', CONVERT(DATETIME, '2000-04-12 00:00:00', 102), N'Hà Nội', '0353726391', 'HuongNT', '123', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0,'30EC7710-D086-4611-9665-44FC8AB50EE5'),
(NEWID(), 'NV4', N'Hoàng Hữa Thành', N'Nam', CONVERT(DATETIME, '2000-07-25 00:00:00', 102), N'Hà Nội', '0390283738', 'ThanhHH', '123', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0,'30EC7710-D086-4611-9665-44FC8AB50EE5'),
(NEWID(), 'NV5', N'Đỗ Văn Quyết', N'Nam', CONVERT(DATETIME, '2000-02-29 00:00:00', 102), N'Hà Nội', '0324579260', 'QuyetDV', '123', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0,'30EC7710-D086-4611-9665-44FC8AB50EE5'),
(NEWID(), 'NV6', N'Nguyễn Tài Giang', N'Nam', CONVERT(DATETIME, '2002-09-12 00:00:00', 102), N'Hà Nội', '0367389090', 'GiangNT', '123', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0,'95C61CEF-7520-4ABD-B19F-F62EDCD9E6E0'),
(NEWID(), 'NV7', N'Trần Xuân Sơn Tùng', N'Nam', CONVERT(DATETIME, '2001-09-12 00:00:00', 102), N'Hà Nội', '0335781379', 'TungTXS', '123', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0,'30EC7710-D086-4611-9665-44FC8AB50EE5')
select*from CHUCVU
INSERT INTO CHUCVU (id, ma, ten, ngayTao, trangThai) VALUES (NEWID(),'NV1', N'Quản Viên', CONVERT(DATETIME, '2022-01-12 00:00:00'), 0),(NEWID(),'NV2', N'Nhân Viên',CONVERT(DATETIME, '2022-01-12 00:00:00'), 0)

delete from KHACHHANG
select*from KHACHHANG
INSERT INTO KHACHHANG (id, ma, ten, ngaySinh, sdt, diaChi, ngayTao, trangThai)
VALUES  (NEWID(), 'KH1', N'Nguyễn Văn A', CONVERT(DATETIME, '2002-12-20 00:00:00', 102), '0394892839', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'KH2', N'Nguyễn Văn B', CONVERT(DATETIME, '1995-02-21 00:00:00', 102), '0367283892', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'KH3', N'Nguyễn Văn C', CONVERT(DATETIME, '1990-04-15 00:00:00', 102), '0364738320', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 1),
(NEWID(), 'KH4', N'Nguyễn Văn D', CONVERT(DATETIME, '1999-12-23 00:00:00', 102), '0348302049', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'KH5', N'Nguyễn Văn E', CONVERT(DATETIME, '2003-11-28 00:00:00', 102), '0373647485', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'KH6', N'Nguyễn Văn F', CONVERT(DATETIME, '1990-09-30 00:00:00', 102), '0337474839', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'KH7', N'Nguyễn Văn G', CONVERT(DATETIME, '2000-04-23 00:00:00', 102), '0389349347', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'KH8', N'Nguyễn Văn H', CONVERT(DATETIME, '2001-12-16 00:00:00', 102), '0384827203', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 1),
(NEWID(), 'KH9', N'Nguyễn Văn I', CONVERT(DATETIME, '1993-06-17 00:00:00', 102), '0349309384', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'KH10', N'Nguyễn Văn K', CONVERT(DATETIME, '1999-07-14 00:00:00', 102),'0374747349', N'Hà Nội', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 1)

select*from DanhMuc
INSERT INTO DanhMuc (id, ma, dongSP, ngayTao, trangThai)
VALUES  (NEWID(), 'DM1', N'Đồng Hồ Đeo Tay', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'DM2', N'Dây Chuyền', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'DM3', N'Nhẫn', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'DM4', N'Vòng Tay', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'DM5', N'Hoa Tai', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'DM6', N'Kính Mắt', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0),
(NEWID(), 'DM7', N'Đồ Cài ÁO', CONVERT(DATETIME, '2022-01-12 00:00:00', 102), 0)

select*from ChatLieu
insert into ChatLieu values (NEWID(),'CL1', N'Thép Không gỉ', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0')
,(NEWID(),'CL2', N'Thép Không gỉ', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL3', N'Vàng', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL4', N'Tatinium', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL5', N'Bạch Kim', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL6', N'mạ vàng', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL7', N'mạ bạc', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL8', N'đồng thau', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL9', N'bạc', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL10', N'Kim  loại thường', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL11', N'hợp kim,Nhựa', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL12', N'thủy tinh', CONVERT(DATETIME, '2021-01-12 00:00:00'),N'0'),
(NEWID(),'CL13', N',da thuộc', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL14', N'gỗ', CONVERT(DATETIME, '2021-01-12 00:00:00'),N'0'),
(NEWID(),'CL15', N'Đá', CONVERT(DATETIME, '2021-01-12 00:00:00'),N'0'),
(NEWID(),'CL16', N'đá bán quý', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL17', N'kim cương', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL18', N'đá quý', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL19', N'thạch anh', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL20', N'hồng ngọc', CONVERT(DATETIME, '2021-01-12 00:00:00'),N'0'),
(NEWID(),'CL21', N'mã não', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL22', N'gỗ dâu', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'0'),
(NEWID(),'CL23', N'bạc 925', CONVERT(DATETIME, '2021-01-12 00:00:00'),N'1'),
(NEWID(),'CL24', N'Plastic', CONVERT(DATETIME, '2021-01-12 00:00:00'),N'0'),
(NEWID(),'CL25', N'Polycarbonate', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1'),
(NEWID(),'CL26', N'ruy băng lụa', CONVERT(DATETIME, '2021-01-12 00:00:00'),N'1'),
(NEWID(),'CL27', N'vải voan', CONVERT(DATETIME, '2021-01-12 00:00:00'),N'0'),
(NEWID(),'CL28', N'vải nhung', CONVERT(DATETIME, '2022-01-12 00:00:00'),N'1')


----------------đã làm----

select*from SANPHAM
INSERT INTO SANPHAM (id, ma, tenSanPham, mauSac, nhaSanXuat, ngayTao, trangThai, soLuong, giaNhap, giaBan, trongLuong, moTa, iddm, idcl)
VALUES  (NEWID(), 'SP1', N'Đồng Hồ T', N'Vàng', N'saga', CONVERT(DATETIME, '2022-03-28 00:00:00', 102), 0, 10, 200, 220, '2.5', N'Tốt','8853F081-21C8-4696-8AE9-8C30FE096597','ED13FBB9-BD82-45E0-8C6E-0C20A9056031'),
(NEWID(), 'SP2', N'Nhẫn S', N'Vàng', N'PNJ', CONVERT(DATETIME, '2022-03-28 00:00:00', 102), 0, 15, 300, 320, '1.5', N'Tốt','BB1ABAA9-F2CF-4E3C-A60F-4C0C07A206C8','6C44F2F5-6B8D-42C0-80A4-D98573576833'),
(NEWID(), 'SP3', N'Dây Chuyền R', N'Trắng', N'Swarovski', CONVERT(DATETIME, '2022-03-28 00:00:00', 102), 0, 20, 150, 220, '2', N'Tốt','729306A4-AF53-4D57-A6D3-810CF89A374F','048FE911-E3A9-4476-82A0-41C1F9E5C871'),
(NEWID(), 'SP4', N'Vòng Tay K', N'Đỏ', N'Pandora', CONVERT(DATETIME, '2022-03-29 00:00:00', 102), 0, 13, 230, 250, '2', N'Tốt','D8C38594-CD90-4566-93C7-37A96032970B','F44EF0FC-6941-4AC0-98F4-BB5283F42BF3'),
(NEWID(), 'SP5', N'Hoa Tai G', N'Trắng', N'Klenin', CONVERT(DATETIME, '2022-03-29 00:00:00', 102), 0, 15, 240, 260, '3', N'Tốt','52431748-12BF-4951-8722-1834C95E9B4C','CF86DBD6-AF0F-433B-91B6-BB3D6C2D1242'),
(NEWID(), 'SP6', N'Nhẫn X', N'Vàng', N'Daniel Wellington', CONVERT(DATETIME, '2022-03-30 00:00:00', 102), 0, 21, 200, 220, '1', N'Tốt','BB1ABAA9-F2CF-4E3C-A60F-4C0C07A206C8','B523AE91-00BA-468E-9410-EDDA2FACDA24'),
(NEWID(), 'SP7', N'Vòng Tay V', N'Hồng', N'Sokolov', CONVERT(DATETIME, '2022-04-01 00:00:00', 102), 0, 22, 400, 430, '1', N'Tốt','D8C38594-CD90-4566-93C7-37A96032970B','EBD2C010-AC5F-4A39-B6B8-BD1FE81F31F4'),
(NEWID(), 'SP8', N'Hoa Tai J', N'Đỏ', N'Sokolov', CONVERT(DATETIME, '2022-04-01 00:00:00', 102), 0, 12, 400, 420, '2', N'Tốt','52431748-12BF-4951-8722-1834C95E9B4C','4AA75695-4DC5-4494-A053-4BF207013568'),
(NEWID(), 'SP9', N'Nhẫn Y', N'Nâu', N'Cartier', CONVERT(DATETIME, '2022-04-10 00:00:00', 102), 0, 9, 200, 230, '2', N'Tốt','BB1ABAA9-F2CF-4E3C-A60F-4C0C07A206C8','4CF12FB5-494F-48B4-81A9-2B7488BBEE26'),
(NEWID(), 'SP10', N'Kính Mắt B', N'Vàng', N'Harry Winston', CONVERT(DATETIME, '2022-04-22 00:00:00', 102), 0, 11, 240, 270, '2.5', N'Tốt','8A406D0F-642B-4907-812B-F996C93123F8','348ACDDC-8B95-470F-A33B-A0533632394F'),
(NEWID(), 'SP12', N'Vòng Tay J', N'Xanh', N'Chrome Hearts', CONVERT(DATETIME, '2022-04-27 00:00:00', 102), 0, 14, 220, 230, '2.5', N'Tốt','D8C38594-CD90-4566-93C7-37A96032970B','93F02040-9B90-4F4B-AE5A-83C12317237C'),
(NEWID(), 'SP13', N'Đồng Hồ L', N'Trắng', N'saga', CONVERT(DATETIME, '2022-05-01 00:00:00', 102), 0, 13, 200, 250, '2.5', N'Tốt','8853F081-21C8-4696-8AE9-8C30FE096597','6C44F2F5-6B8D-42C0-80A4-D98573576833'),
(NEWID(), 'SP14', N'Kính Mắt C', N'Đen', N'Swarovski', CONVERT(DATETIME, '2022-05-02 00:00:00', 102), 0, 12, 210, 240, '2.5', N'Tốt','8A406D0F-642B-4907-812B-F996C93123F8','D4CBAE14-81E5-4BBB-A21B-30E0ACD6D736'),
(NEWID(), 'SP15', N'Dây Chuyền M', N'Trắng', N'Daniel Wellington', CONVERT(DATETIME, '2022-05-02 00:00:00', 102), 0, 21, 230, 250, '2.5', N'Tốt','729306A4-AF53-4D57-A6D3-810CF89A374F','8455729D-F0F9-484E-AA85-C7C6D05477B8'),
(NEWID(), 'SP16', N'Trâm Cài ÁO Z', N'Hồng', N'Chrome Hearts', CONVERT(DATETIME, '2022-05-03 00:00:00', 102), 0, 18, 250, 300, '2.5', N'Tốt','CEEC4227-3F1A-48CF-B661-F2165FF67A86','E95EFE2D-B022-4D23-B136-D047246FF8B6'),
(NEWID(), 'SP17', N'Đồng Hồ N', N'Đen', N'Calvin Klenin', CONVERT(DATETIME, '2022-05-03 00:00:00', 102), 0, 12, 290, 310, '2.5', N'Tốt','8853F081-21C8-4696-8AE9-8C30FE096597','9E23F889-CE96-47E5-8386-35D144D1393C'),
(NEWID(), 'SP18', N'Gim Cài áo C', N'Cam', N'Chopard', CONVERT(DATETIME, '2022-05-03 00:00:00', 102), 0, 14, 240, 280, '2.5', N'Tốt','CEEC4227-3F1A-48CF-B661-F2165FF67A86','6BA46D40-5A2D-4BDF-BCB4-7F618584934B'),
(NEWID(), 'SP19', N'Kính Mắt D', N'Trắng', N'Harry Winston', CONVERT(DATETIME, '2022-06-01 00:00:00', 102), 0, 23, 290, 320, '2.5', N'Tốt','8A406D0F-642B-4907-812B-F996C93123F8','87CD1295-4682-4936-A34B-A20E1F06AF27'),
(NEWID(), 'SP20', N'Dây Chuyền C', N'Vàng', N'PNJ', CONVERT(DATETIME, '2022-06-02 00:00:00', 102), 0, 10, 200, 250, '2.5', N'Tốt','729306A4-AF53-4D57-A6D3-810CF89A374F','0B0E3CD0-57D5-4C4F-B6D8-B3CE010BD67F'),
(NEWID(), 'SP21', N'Hoa Tai D', N'vàng', N'saga', CONVERT(DATETIME, '2022-06-02 00:00:00', 102), 0, 10, 260, 280, '2.5', N'Tốt','52431748-12BF-4951-8722-1834C95E9B4C','4AA75695-4DC5-4494-A053-4BF207013568')

select*from KHUYENMAI
INSERT INTO KHUYENMAI (id, ma, tenKM, ngayBD, ngayKT, ngayTao, trangThai)
VALUES   (NEWID(), 'KM1', N'giảm giá đồng hồ N', CONVERT(DATETIME, '2023-01-01 00:00:00', 102), CONVERT(DATETIME, '2023-02-15 00:00:00', 102), CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0),
 (NEWID(), 'KM2', N'giảm giá Dây Chuyền C', CONVERT(DATETIME, '2023-01-01 00:00:00', 102), CONVERT(DATETIME, '2023-05-01 00:00:00', 102), CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0),
  (NEWID(), 'KM3', N'giảm giá Vòng Tay J',CONVERT(DATETIME, '2023-01-01 00:00:00', 102), CONVERT(DATETIME, '2023-05-01 00:00:00', 102),  CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0),
   (NEWID(), 'KM4', N'giảm giá Kính Mắt D',CONVERT(DATETIME, '2023-01-01 00:00:00', 102), CONVERT(DATETIME, '2023-05-01 00:00:00', 102),  CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0),
    (NEWID(), 'KM5', N'giảm giá Trâm Cài ÁO Z', CONVERT(DATETIME, '2023-01-01 00:00:00', 102), CONVERT(DATETIME, '2023-05-01 00:00:00', 102), CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0),
	 (NEWID(), 'KM6', N'giảm giá Nhẫn Y',CONVERT(DATETIME, '2023-01-01 00:00:00', 102), CONVERT(DATETIME, '2023-05-01 00:00:00', 102),  CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0),
	 (NEWID(), 'KM7', N'giảm giá Vòng Tay V',CONVERT(DATETIME, '2023-01-01 00:00:00', 102), CONVERT(DATETIME, '2023-05-01 00:00:00', 102),  CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0),
	 (NEWID(), 'KM8', N'giảm giá Hoa Tai G', CONVERT(DATETIME, '2023-01-01 00:00:00', 102), CONVERT(DATETIME, '2023-05-01 00:00:00', 102),  CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0)

 select*from CHITIETKHUYENMAI
INSERT INTO CHITIETKHUYENMAI  (id, ma, giaGiam, ngayTao, trangThai, idSP, idKM)
VALUES  (NEWID(),'CTKM1', 15, CONVERT(DATETIME, '2022-12-30 00:00:00', 102),0,'B0AB5E1B-E361-4D6C-A659-08B3E4BB6440','E4E36810-61C8-4771-B229-5281747CD978'),
(NEWID(),'CTKM2', 20, CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0,'B5F7AA65-2D7A-435D-B97B-AC3C52EB380D','57B5AE42-5581-40B3-A3F4-EEB655307873'),
(NEWID(),'CTKM3', 37, CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0,'0F3AB245-00D1-4D2C-B7AF-9A1934C35FDC','6BC0C4B4-9845-41FA-99D1-6D6A2FF9964D'),
(NEWID(),'CTKM4', 55, CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0,'9EB97C0D-F00E-4B8F-8694-AA1C6E7F0B69','326E22BB-41E8-4B8F-8AE0-F1693EA11300'),
(NEWID(),'CTKM5', 59, CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0,'1184D275-3F28-456E-A382-65EB9734114A','9ADDA1D5-71BA-4B96-8220-FAD7D4974C5F'),
(NEWID(),'CTKM6', 23, CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0,'C4356ADA-D4DF-4DE2-BFF6-989ACA19FF3A','E89EEEE5-053C-45E6-B5A6-0E3D62A9E674'),
(NEWID(),'CTKM7', 67, CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0,'6B7785B0-5758-4DF4-BC61-48511984A518','D31FF7B4-5B20-45C2-A916-C7B313C93315'),
(NEWID(),'CTKM8', 34, CONVERT(DATETIME, '2022-12-30 00:00:00', 102), 0,'3C8D1B9C-AA25-432C-AEC3-0564D0316C56','26718FF6-DA83-428A-99B3-3BBDAC7357CD')



select*from GIOHANG
INSERT INTO GIOHANG (id, ma, ngayTao, tenKH, tinhTrang, idKH)
VALUES  (NEWID(), 'GH1', CONVERT(DATETIME, '2022-12-10 00:00:00', 102),'Nguyễn Văn D', 0,'2E1BA989-B123-41FD-8E41-31B9BC9555C6'),
(NEWID(), 'GH2', CONVERT(DATETIME, '2022-12-15 00:00:00', 102),N'Nguyễn Văn E', 0,'408EF02E-9477-404E-982E-70379D2CF2D5'),
(NEWID(), 'GH3', CONVERT(DATETIME, '2022-12-20 00:00:00', 102),N'Nguyễn Văn A', 0,'40DBFDA7-FE40-4468-8DC4-AA802134FDC7'),
(NEWID(), 'GH4', CONVERT(DATETIME, '2022-01-05 00:00:00', 102),N'Nguyễn Văn C', 0,'2994D3EF-E216-4610-8112-E0C8446923FE'),
(NEWID(), 'GH5', CONVERT(DATETIME, '2023-01-15 00:00:00', 102),N'Nguyễn Văn G', 0,'2A194D3C-2AC1-4696-B26F-1F30F822F9BC'),
(NEWID(), 'GH6', CONVERT(DATETIME, '2023-01-20 00:00:00', 102),N'Nguyễn Văn D', 0,'2E1BA989-B123-41FD-8E41-31B9BC9555C6'),
(NEWID(), 'GH7', CONVERT(DATETIME, '2023-02-10 00:00:00', 102),N'Nguyễn Văn F', 0,'6F5F572F-37AC-4B96-B070-55AE56F0A3AA'),
(NEWID(), 'GH8', CONVERT(DATETIME, '2023-02-13 00:00:00', 102),N'Nguyễn Văn H', 0,'4354BFCD-BEE0-4731-B38C-7EFDF4C0C7FA'),
(NEWID(), 'GH9', CONVERT(DATETIME, '2023-02-17 00:00:00', 102),N'Nguyễn Văn A', 0,'40DBFDA7-FE40-4468-8DC4-AA802134FDC7'),
(NEWID(), 'GH10', CONVERT(DATETIME, '2023-02-25 00:00:00', 102),N'Nguyễn Văn AI', 0,'CD2EC5AD-2130-45E8-8260-53430D624062'),
(NEWID(), 'GH11', CONVERT(DATETIME, '2023-03-05 00:00:00', 102),N'Nguyễn Văn G', 0,'2A194D3C-2AC1-4696-B26F-1F30F822F9BC'),
(NEWID(), 'GH12', CONVERT(DATETIME, '2023-03-12 00:00:00', 102),N'Nguyễn Văn K', 0,'27380495-37D5-4DBB-BC86-9FC82A381F43'),
(NEWID(), 'GH13', CONVERT(DATETIME, '2023-03-16 00:00:00', 102),N'Nguyễn Văn H', 0,'4354BFCD-BEE0-4731-B38C-7EFDF4C0C7FA'),
(NEWID(), 'GH14', CONVERT(DATETIME, '2023-03-23 00:00:00', 102),N'Nguyễn Văn F', 0,'6F5F572F-37AC-4B96-B070-55AE56F0A3AA')
delete from GIOHANG

select*from CHITIETGIOHANG
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 4, 310, CONVERT(DATETIME, '2002-12-10 00:00:00', 102), 0,'B0AB5E1B-E361-4D6C-A659-08B3E4BB6440','8907893A-7A18-4EEF-8275-418290FCBAB9')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 3, 250, CONVERT(DATETIME, '2002-12-15 00:00:00', 102), 0,'0370C13D-5AE2-4747-A0C7-1688803C6A96','EBB8925C-D06D-4AB6-8694-0A59CD0CE0D9')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 2, 270, CONVERT(DATETIME, '2002-12-20 00:00:00', 102), 0,'3824DEC7-3631-477A-B6D7-F079C27F9902','EE1AC873-66A4-416B-AE28-C32A5449B238')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 1, 220, CONVERT(DATETIME, '2002-01-05 00:00:00', 102), 0,'6439E3E2-7AD5-4E91-9F25-B55F62C995D6','76E80682-4EA6-440B-A47A-47DE99827AFE')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 2, 220, CONVERT(DATETIME, '2002-01-15 00:00:00', 102), 0,'B978F802-3925-461F-81D3-A050E408048D','B59BAB42-163B-41C3-8AF2-7D3C7EE7035A')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 1, 250, CONVERT(DATETIME, '2002-01-20 00:00:00', 102), 0,'8A554FD0-4715-4F55-88E9-7A0B4A9316A2','5845C665-2A1D-455C-BD53-C4DD5FB3F888')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 1, 230, CONVERT(DATETIME, '2002-02-10 00:00:00', 102), 0,'0F3AB245-00D1-4D2C-B7AF-9A1934C35FDC','5C340063-ABC7-4501-BB3F-9EC34526F72A')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 3, 220, CONVERT(DATETIME, '2002-02-13 00:00:00', 102), 0,'998844AE-FDB0-4A8D-90EB-28573E51717D','8B048072-5872-462D-89B4-E3CEF4485C75')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 2, 310, CONVERT(DATETIME, '2002-02-17 00:00:00', 102), 0,'6B7785B0-5758-4DF4-BC61-48511984A518','49CC7139-E926-4FC0-9F29-17F34E814A66')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 1, 22, CONVERT(DATETIME, '2002-02-25 00:00:00', 102), 0,'B0AB5E1B-E361-4D6C-A659-08B3E4BB6440','42AEB422-9A47-459B-8F92-88387CCC62AE')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 2, 230, CONVERT(DATETIME, '2002-03-05 00:00:00', 102), 0,'C4356ADA-D4DF-4DE2-BFF6-989ACA19FF3A','5FE67B4D-EF31-4846-8081-81F37D2ED537')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 3, 280, CONVERT(DATETIME, '2002-03-12 00:00:00', 102), 0,'17FEBF13-25E5-4A8A-882E-85912AB4ABB1','84A3658B-BFF8-4A0C-9BAF-F0D341F09BE2')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 3, 270, CONVERT(DATETIME, '2002-03-16 00:00:00', 102), 0,'3824DEC7-3631-477A-B6D7-F079C27F9902','F8D62E00-4AFE-4A60-BFE8-72674E74B1A4')
INSERT INTO CHITIETGIOHANG  (id, soLuong, donGia, ngayTao, trangThai, idSP, idGH) VALUES  
(NEWID(), 2, 260, CONVERT(DATETIME, '2002-03-23 00:00:00', 102), 0,'3C8D1B9C-AA25-432C-AEC3-0564D0316C56','A93DB4AE-A01A-445D-A748-0E91D2628464')

select*from HOADON
INSERT INTO HOADON (id, ngayTao, ngayTT, tinhTrang, hinhThucThanhToan, idKH, idNV)
VALUES  (NEWID(), CONVERT(DATETIME, '2022-12-10 00:00:00', 102), CONVERT(DATETIME, '2022-12-10 00:00:00', 102), 0, N'Chuyển Khoản','2E1BA989-B123-41FD-8E41-31B9BC9555C6','D6F53839-2E5C-4D15-A5B5-129406E687AB'),
(NEWID(), CONVERT(DATETIME, '2022-12-15 00:00:00', 102), CONVERT(DATETIME, '2022-12-15 00:00:00', 102), 0, N'Tiền Mặt','408EF02E-9477-404E-982E-70379D2CF2D5','B3A27A13-242A-4531-89E7-7C1BF1504035'),
(NEWID(), CONVERT(DATETIME, '2022-12-20 00:00:00', 102), CONVERT(DATETIME, '2022-12-20 00:00:00', 102), 0, N'Chuyển Khoản','40DBFDA7-FE40-4468-8DC4-AA802134FDC7','FD7FB6E2-A1B8-4720-8CCB-19AB9C9EA9D4'),
(NEWID(), CONVERT(DATETIME, '2022-01-05 00:00:00', 102), CONVERT(DATETIME, '2022-01-05 00:00:00', 102), 0, N'Tiền Mặt','2994D3EF-E216-4610-8112-E0C8446923FE','B3A27A13-242A-4531-89E7-7C1BF1504035'),
(NEWID(), CONVERT(DATETIME, '2022-01-15 00:00:00', 102), CONVERT(DATETIME, '2022-01-15 00:00:00', 102), 0, N'Tiền Mặt','2A194D3C-2AC1-4696-B26F-1F30F822F9BC','B3A27A13-242A-4531-89E7-7C1BF1504035'),
(NEWID(), CONVERT(DATETIME, '2022-01-20 00:00:00', 102), CONVERT(DATETIME, '2022-01-20 00:00:00', 102), 0, N'Chuyển Khoản','2E1BA989-B123-41FD-8E41-31B9BC9555C6','C2F57A23-3220-4779-B1E4-F39E43EE94C0'),
(NEWID(), CONVERT(DATETIME, '2022-02-10 00:00:00', 102), CONVERT(DATETIME, '2022-02-10 00:00:00', 102), 0, N'Chuyển Khoản','6F5F572F-37AC-4B96-B070-55AE56F0A3AA','B3A27A13-242A-4531-89E7-7C1BF1504035'),
(NEWID(), CONVERT(DATETIME, '2022-02-13 00:00:00', 102), CONVERT(DATETIME, '2022-02-13 00:00:00', 102), 0, N'Tiền Mặt','4354BFCD-BEE0-4731-B38C-7EFDF4C0C7FA','D6F53839-2E5C-4D15-A5B5-129406E687AB'),
(NEWID(), CONVERT(DATETIME, '2022-02-17 00:00:00', 102), CONVERT(DATETIME, '2022-02-17 00:00:00', 102), 0, N'Chuyển Khoản','40DBFDA7-FE40-4468-8DC4-AA802134FDC7','B3A27A13-242A-4531-89E7-7C1BF1504035'),
(NEWID(), CONVERT(DATETIME, '2022-02-25 00:00:00', 102), CONVERT(DATETIME, '2022-02-25 00:00:00', 102), 0, N'Tiền Mặt','CD2EC5AD-2130-45E8-8260-53430D624062','226DB58A-063D-4603-97F8-013914E9519C'),
(NEWID(), CONVERT(DATETIME, '2022-03-05 00:00:00', 102), CONVERT(DATETIME, '2022-03-05 00:00:00', 102), 0, N'Tiền Mặt','2A194D3C-2AC1-4696-B26F-1F30F822F9BC','226DB58A-063D-4603-97F8-013914E9519C'),
(NEWID(), CONVERT(DATETIME, '2022-03-12 00:00:00', 102), CONVERT(DATETIME, '2022-03-12 00:00:00', 102), 0, N'Chuyển Khoản','27380495-37D5-4DBB-BC86-9FC82A381F43','CB788FC6-F1D2-4262-87B1-B92A4928A772'),
(NEWID(), CONVERT(DATETIME, '2022-03-16 00:00:00', 102), CONVERT(DATETIME, '2022-03-16 00:00:00', 102), 0, N'Chuyển Khoản','4354BFCD-BEE0-4731-B38C-7EFDF4C0C7FA','D6F53839-2E5C-4D15-A5B5-129406E687AB'),
(NEWID(), CONVERT(DATETIME, '2022-03-23 00:00:00', 102), CONVERT(DATETIME, '2022-03-23 00:00:00', 102), 0, N'Tiền Mặt','6F5F572F-37AC-4B96-B070-55AE56F0A3AA','FD7FB6E2-A1B8-4720-8CCB-19AB9C9EA9D4')

select*from CHITIETHOADON
INSERT INTO CHITIETHOADON (id, soLuong, donGia, giaGiam, ngayTao, trangThai, idHD, idSP)
VALUES (NEWID(), 4, 310, 37,CONVERT(DATETIME, '2022-12-10 00:00:00', 102), 0,'A8F33395-8B1A-4F83-A5AA-B0B88F244A1B','0F3AB245-00D1-4D2C-B7AF-9A1934C35FDC'),
(NEWID(), 3, 250, 0,CONVERT(DATETIME, '2022-12-15 00:00:00', 102), 0,'E00CE16E-170D-4B95-9A4A-D370C9FC4E3A','0370C13D-5AE2-4747-A0C7-1688803C6A96'),
(NEWID(), 2, 270, 0,CONVERT(DATETIME, '2022-12-20 00:00:00', 102), 0,'A2DBF20A-6EC4-41F4-8E9E-E7CB53687FEA','3824DEC7-3631-477A-B6D7-F079C27F9902'),
(NEWID(), 1, 220, 0,CONVERT(DATETIME, '2022-01-05 00:00:00', 102), 0,'2204DBAD-39FD-463C-9EE7-D5A4D8B3096C','6439E3E2-7AD5-4E91-9F25-B55F62C995D6'),
(NEWID(), 2, 220, 0, CONVERT(DATETIME, '2022-01-15 00:00:00', 102), 0,'9EB9D483-6869-438E-8B17-092F6966A136','B978F802-3925-461F-81D3-A050E408048D'),
(NEWID(), 1, 250, 0, CONVERT(DATETIME, '2022-01-20 00:00:00', 102), 0,'62F0E979-00A0-4AF3-B417-46FE54FC143C','8A554FD0-4715-4F55-88E9-7A0B4A9316A2'),
(NEWID(), 2, 230, 37,CONVERT(DATETIME, '2022-02-10 00:00:00', 102), 0,'EFF35A4E-98D9-43D1-9445-254D06582310','0F3AB245-00D1-4D2C-B7AF-9A1934C35FDC'),
(NEWID(), 3, 220, 0,CONVERT(DATETIME, '2022-02-13 00:00:00', 102), 0,'0628512D-AE98-4633-AB58-C45FFCC3084B','998844AE-FDB0-4A8D-90EB-28573E51717D'),
(NEWID(), 2, 310, 67, CONVERT(DATETIME, '2022-02-17 00:00:00', 102) , 0,'849A01E8-9046-4938-9FE9-D708C1163CD5','6B7785B0-5758-4DF4-BC61-48511984A518'),
(NEWID(), 1, 22, 15, CONVERT(DATETIME, '2022-02-25 00:00:00', 102) , 0,'E8328163-EA08-40C3-8340-A81B7A9B3578','B0AB5E1B-E361-4D6C-A659-08B3E4BB6440'),
(NEWID(), 2, 230, 23, CONVERT(DATETIME, '2022-03-05 00:00:00', 102) , 0,'17F66591-C38B-4300-8C73-BCF43873EAA4','C4356ADA-D4DF-4DE2-BFF6-989ACA19FF3A'),
(NEWID(), 3, 280, 0, CONVERT(DATETIME, '2022-03-12 00:00:00', 102) , 0,'4B375BFD-8391-4132-B8B4-CEE950E7DEB1','17FEBF13-25E5-4A8A-882E-85912AB4ABB1'),
(NEWID(), 3, 270, 0,  CONVERT(DATETIME, '2022-03-16 00:00:00', 102), 0,'A49F7781-5F7B-440F-9FB6-C8EF8E564DC0','3824DEC7-3631-477A-B6D7-F079C27F9902'),
(NEWID(), 2, 260, 34,  CONVERT(DATETIME, '2022-03-23 00:00:00', 102), 0,'FC1E88D2-0B90-4D15-A727-33B970ED6446','3C8D1B9C-AA25-432C-AEC3-0564D0316C56')






select*from DoiTra
INSERT INTO DoiTra (id, ngayTao, lyDo, trangThai, idKH, idHD)
VALUES  (NEWID(), CONVERT(DATETIME, '2023-02-20 00:00:00', 102), N'lỗi Sản Phẩm', 0,'40DBFDA7-FE40-4468-8DC4-AA802134FDC7','849A01E8-9046-4938-9FE9-D708C1163CD5'),
        (NEWID(), CONVERT(DATETIME, '2023-03-07 00:00:00', 102), N'lỗi Sản Phẩm', 0,'2A194D3C-2AC1-4696-B26F-1F30F822F9BC','17F66591-C38B-4300-8C73-BCF43873EAA4')



-- thống kê theo số lượng doanh thu 
Create function TK_DoanhThutheongay(@NgayD date, @NgayC date)  
Returns Table 
as return( SELECT NHANVIEN.ten,SANPHAM.tenSanPham,CHITIETHOADON.soLuong,N'Tổng Tiền' = (CHITIETHOADON.donGia-CHITIETHOADON.giaGiam)*CHITIETHOADON.soLuong,CHITIETHOADON.ngayTao  FROM   SANPHAM INNER JOIN
                         NHANVIEN ON SANPHAM.id = NHANVIEN.id INNER JOIN
                         CHITIETHOADON ON SANPHAM.id = CHITIETHOADON.idSP INNER JOIN
                         HOADON ON NHANVIEN.id = HOADON.idNV AND CHITIETHOADON.idHD = HOADON.id Where CHITIETHOADON.ngayTao>=CONVERT(DATETIME,@NgayD,102) and CHITIETHOADON.ngayTao<=CONVERT(DATETIME,@NgayC,102))
select*from TK_DoanhThutheongay(?,?)


SELECT (donGia-giaGiam)*soLuong FROM  CHITIETHOADON



/** NSX của cửa hàng :
 nước ngoài :saga,Swarovski,Daniel Wellington,Sokolov,Pandora,Chrome Hearts,Calvin Klenin,Cartier,Chopard,Harry Winston
 việt nam :đồng hồ hải triều,Kim cương,PNJ

/** Màu sắc của cửa hàng :
Xanh,xanh lá cây,vàng,tím,đỏ,hồng,đen,trắng,nâu,trắng,vàng

